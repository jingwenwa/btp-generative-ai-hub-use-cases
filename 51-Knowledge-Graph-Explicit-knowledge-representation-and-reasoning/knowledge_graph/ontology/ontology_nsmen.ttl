@prefix :      <http://kg.ns.sg/ontology/> .
@prefix nsi:   <http://kg.ns.sg/instances/> .
@prefix foaf:  <http://xmlns.com/foaf/0.1/> .
@prefix org:   <http://www.w3.org/ns/org#> .
@prefix schema:<https://schema.org/> .
@prefix skos:  <http://www.w3.org/2004/02/skos/core#> .
@prefix time:  <http://www.w3.org/2006/time#> .
@prefix geo:   <http://www.opengis.net/ont/geosparql#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .

<http://kg.ns.sg/ontology/> rdf:type owl:Ontology .

#################################################################
# CLASSES
#################################################################

# People
:NSMan rdf:type owl:Class ;
       rdfs:subClassOf foaf:Person ;
       rdfs:comment "Operationally-Ready National Serviceman (reservist)."@en .

:FullTimeNSF rdf:type owl:Class ;
       rdfs:subClassOf foaf:Person ;
       rdfs:comment "Full-time National Serviceman (NSF)."@en .

:SupportOfficer rdf:type owl:Class ;
       rdfs:subClassOf foaf:Person ;
       rdfs:comment "NSRO or supporting officer."@en .

# Units and organizations
:Unit rdf:type owl:Class ;
      rdfs:subClassOf org:Organization ;
      rdfs:comment "Military unit entity."@en .

:ServiceBranch rdf:type owl:Class ;
      rdfs:subClassOf :Unit ;
      rdfs:comment "Service branch (Army, Navy, Air Force, SPF, SCDF)."@en .

:Vocation rdf:type owl:Class ;
      rdfs:comment "Specific vocation under a Service Branch."@en .

# PES and Medical
:PESStatus rdf:type owl:Class ;
      rdfs:comment "Medical fitness status (PES Aâ€“F)."@en .

# Activities
:ServiceType rdf:type owl:Class ;
      rdfs:comment "Kinds of obligated activities."@en .

:Booking rdf:type owl:Class ;
      rdfs:comment "Booking record (generic)."@en .

:IPPTBooking rdf:type owl:Class ;
      rdfs:subClassOf :Booking ;
      rdfs:comment "Booking for IPPT."@en .

:IPPTAttempt rdf:type owl:Class ;
      rdfs:comment "Represents quotas and yearly attempt commitments."@en .

# Policies
:PolicyRule rdf:type owl:Class ;
      rdfs:comment "Formal policy rule."@en .

:ExemptionRule rdf:type owl:Class ;
      rdfs:subClassOf :PolicyRule ;
      rdfs:comment "Policy exemption rule."@en .

:EligibilityRule rdf:type owl:Class ;
      rdfs:subClassOf :PolicyRule ;
      rdfs:comment "Policy eligibility rule."@en .

:ObligationRule rdf:type owl:Class ;
      rdfs:subClassOf :PolicyRule ;
      rdfs:comment "Policy obligation rule."@en .

# Admin
:ExitPermit rdf:type owl:Class ;
      rdfs:comment "Exit permit record."@en .

:Deferment rdf:type owl:Class ;
      rdfs:comment "Deferment record."@en .

# Places
:Location rdf:type owl:Class ;
      rdfs:subClassOf geo:Feature ;
      rdfs:comment "Camp, base, or fitness centre."@en .


#################################################################
# OBJECT PROPERTIES
#################################################################

:hasPESStatus rdf:type owl:ObjectProperty , owl:FunctionalProperty ;
      rdfs:domain :NSMan ;
      rdfs:range  :PESStatus ;
      rdfs:comment "Each NSMan has exactly one PES status."@en .

:servesIn rdf:type owl:ObjectProperty ;
      rdfs:domain :NSMan ;
      rdfs:range  :Unit ;
      rdfs:comment "Unit an NSMan is serving in."@en .

:hasRank rdf:type owl:ObjectProperty ;
      rdfs:domain :NSMan ;
      rdfs:range skos:Concept ;
      rdfs:comment "Rank held by an NSMan, from Rank scheme."@en .

:hasObligation rdf:type owl:ObjectProperty ;
      rdfs:domain :NSMan ;
      rdfs:range  :ObligationRule ;
      rdfs:comment "Obligation associated with an NSMan."@en .

:hasBooking rdf:type owl:ObjectProperty ;
      rdfs:domain :NSMan ;
      rdfs:range  :Booking ;
      owl:inverseOf :bookedBy ;
      rdfs:comment "Booking record for an NSMan."@en .

:bookedBy rdf:type owl:ObjectProperty ;
      rdfs:domain :Booking ;
      rdfs:range  :NSMan .

:occursAt rdf:type owl:ObjectProperty ;
      rdfs:domain :Booking ;
      rdfs:range  :Location .

:hasTime rdf:type owl:ObjectProperty ;
      rdfs:domain :Booking ;
      rdfs:range  time:TemporalEntity .

:appliesTo rdf:type owl:ObjectProperty ;
      rdfs:domain :PolicyRule ;
      rdfs:range  [ a owl:Class ;
                    owl:unionOf ( :PESStatus :NSMan :Unit )
                  ] .

:hasScope rdf:type owl:ObjectProperty ;
      rdfs:domain :PolicyRule ;
      rdfs:range  [ a owl:Class ;
                    owl:unionOf ( :ServiceBranch :Unit )
                  ] .

:hasDeferment rdf:type owl:ObjectProperty ;
      rdfs:domain :NSMan ;
      rdfs:range  :Deferment .

:hasExitPermit rdf:type owl:ObjectProperty ;
      rdfs:domain :NSMan ;
      rdfs:range  :ExitPermit .

#################################################################
# DATATYPE PROPERTIES
#################################################################

foaf:name rdf:type owl:DatatypeProperty ;
      rdfs:domain [ owl:unionOf ( :NSMan :Unit :Location ) ] ;
      rdfs:range xsd:string .

schema:identifier rdf:type owl:DatatypeProperty ;
      rdfs:domain owl:Thing ;
      rdfs:range xsd:string .

:email rdf:type owl:DatatypeProperty ;
      rdfs:domain :NSMan ;
      rdfs:range xsd:string .

:status rdf:type owl:DatatypeProperty ;
      rdfs:domain [ owl:unionOf ( :Booking :Deferment :ExitPermit ) ] ;
      rdfs:range xsd:string .

:bookingRef rdf:type owl:DatatypeProperty ;
      rdfs:domain :Booking ;
      rdfs:range xsd:string .

rdfs:comment rdf:type owl:DatatypeProperty ;
      rdfs:domain owl:Thing ;
      rdfs:range xsd:string .

schema:dateCreated rdf:type owl:DatatypeProperty ;
      rdfs:domain owl:Thing ;
      rdfs:range xsd:dateTime .

schema:dateModified rdf:type owl:DatatypeProperty ;
      rdfs:domain owl:Thing ;
      rdfs:range xsd:dateTime .

time:hasBeginning rdf:type owl:DatatypeProperty ;
      rdfs:domain time:Interval ;
      rdfs:range xsd:dateTime .

time:hasEnd rdf:type owl:DatatypeProperty ;
      rdfs:domain time:Interval ;
      rdfs:range xsd:dateTime .

:attemptsPerYear rdf:type owl:DatatypeProperty ;
      rdfs:domain :ObligationRule ;
      rdfs:range xsd:integer .

